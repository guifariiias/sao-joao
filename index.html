<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="img/favicon.png">
    <title>São João dos Miúdos</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Luckiest+Guy&family=Open+Sans:wght@400;700&display=swap');

        body {
            margin: 0; padding: 0;
            background: #0d1b2a;
            color: #fff;
            font-family: 'Open Sans', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background: radial-gradient(circle at center, #1b263b 0%, #0d1b2a 100%);
            overflow: hidden;
        }

        #varal-svg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 300px;
            z-index: 20;
            pointer-events: none;
        }

        .bandeirinha {
            position: absolute;
            width: 30px;
            height: 42px;
            clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 50% 80%, 0% 100%);
            z-index: 21;
            transform-origin: top center;
        }

        .balanco-anim {
            animation: balanco 3s ease-in-out infinite alternate;
        }

        @keyframes balanco {
            from { transform: rotate(-3deg); }
            to { transform: rotate(3deg); }
        }

        #overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 100;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #btn-entrar {
            padding: 20px 50px;
            font-family: 'Luckiest Guy', cursive;
            font-size: 2.5rem;
            background: #ff9e00;
            color: #780000;
            border: 4px solid #780000;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(255,158,0,0.6);
        }

        .container {
            position: relative;
            z-index: 10;
            text-align: center;
            display: none;
        }

        h1 {
            font-family: 'Luckiest Guy', cursive;
            font-size: 4rem;
            color: #ff9e00;
            text-shadow: 4px 4px 0px #780000;
        }

        .countdown-wrapper {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .box {
            background: #582f0e;
            border: 4px solid #7f4f24;
            border-radius: 12px;
            min-width: 100px;
            padding: 15px;
            box-shadow: 0 8px 0 #331a06;
        }

        .number {
            display: block;
            font-size: 3rem;
            font-family: 'Luckiest Guy', sans-serif;
        }

        .balao-clonado {
            position: absolute;
            bottom: -150px;
            opacity: 0.5;
            z-index: 1;
            animation: subir linear forwards;
        }

        @keyframes subir {
            0% { transform: translateY(0) rotate(0deg); }
            100% { transform: translateY(-130vh) rotate(30deg); }
        }

        @media (max-width: 600px) {
            h1 { font-size: 2.5rem; }
            .bandeirinha { width: 20px; height: 30px; }
        }
    </style>
</head>
<body>

    <div id="overlay">
        <button id="btn-entrar">ENTRAR</button>
    </div>

    <svg id="varal-svg">
        <path id="corda-path" d="" fill="transparent" stroke="#582f0e" stroke-width="4" />
    </svg>

    <audio id="musica-fundo" loop>
        <source src="Ritmo da Sanfoninha.mp3" type="audio/mpeg">
    </audio>

    <div class="container" id="conteudo-site">
        <h1>ROAD TRIP SÃO JOÃO 2026</h1>
        <p style="color: #e9c46a; font-size: 1.5rem; font-weight: bold;">A festa dos Miúdos começa em: </p>

        <div class="countdown-wrapper">
            <div class="box"><span class="number" id="days">00</span><span>Dias</span></div>
            <div class="box"><span class="number" id="hours">00</span><span>Horas</span></div>
            <div class="box"><span class="number" id="minutes">00</span><span>Mins</span></div>
            <div class="box"><span class="number" id="seconds">00</span><span>Segs</span></div>
        </div>
    </div>

    <script>
        const cores = ['#ff4d4d', '#ffcc00', '#33cc33', '#3399ff', '#ff66cc'];

        function desenharVaral() {
            const path = document.getElementById('corda-path');
            const w = window.innerWidth;
            const curveHeight = 100;
            
            const d = `M -10 0 Q ${w/2} ${curveHeight * 2} ${w + 10} 0`;
            path.setAttribute('d', d);

            document.querySelectorAll('.bandeirinha').forEach(b => b.remove());

            const totalPathLength = path.getTotalLength();
            const step = 45;
            const numBandeirinhas = Math.floor(totalPathLength / step);

            for (let i = 1; i < numBandeirinhas; i++) {
                const distance = i * step;
                const point = path.getPointAtLength(distance);
                const prevPoint = path.getPointAtLength(distance - 1);

                const b = document.createElement('div');
                b.className = 'bandeirinha balanco-anim';
                b.style.background = cores[i % cores.length];
                
                b.style.left = `${point.x - 15}px`;
                b.style.top = `${point.y}px`;

                const angle = Math.atan2(point.y - prevPoint.y, point.x - prevPoint.x) * (180 / Math.PI);
                b.style.transform = `rotate(${angle}deg)`;
                
                document.body.appendChild(b);
            }
        }

        window.addEventListener('resize', desenharVaral);
        desenharVaral();

        const btn = document.getElementById('btn-entrar');
        const musica = document.getElementById('musica-fundo');
        const overlay = document.getElementById('overlay');
        const conteudo = document.getElementById('conteudo-site');

        function criarBalao() {
            const balao = document.createElement('img');
            balao.src = 'img/balao.png';
            balao.className = 'balao-clonado';
            balao.style.left = Math.random() * 90 + '%';
            const tamanho = Math.random() * 30 + 30;
            balao.style.width = tamanho + 'px';
            const duracao = Math.random() * 10 + 15;
            balao.style.animationDuration = duracao + 's';
            document.body.appendChild(balao);
            setTimeout(() => { balao.remove(); }, duracao * 1000);
        }

        btn.addEventListener('click', () => {
            musica.volume = 0.2; 
            musica.play();
            overlay.style.display = 'none';
            conteudo.style.display = 'block';
            setInterval(criarBalao, 3500);
            criarBalao();
        });

        const target = new Date("June 24, 2026 00:00:00").getTime();
        function update() {
            const now = new Date().getTime();
            const diff = target - now;
            if (diff > 0) {
                document.getElementById('days').innerText = Math.floor(diff / (1000 * 60 * 60 * 24)).toString().padStart(2, '0');
                document.getElementById('hours').innerText = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)).toString().padStart(2, '0');
                document.getElementById('minutes').innerText = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60)).toString().padStart(2, '0');
                document.getElementById('seconds').innerText = Math.floor((diff % (1000 * 60)) / 1000).toString().padStart(2, '0');
            }
        }
        setInterval(update, 1000);
        update();
    </script>
</body>
</html>